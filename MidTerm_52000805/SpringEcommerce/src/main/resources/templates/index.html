<!DOCTYPE html>
<html lang = "en" xmlns:th="http://www.thymeleaf.org">
<title>Home | E-Shopper</title>
<head th:replace="~{/fragments/head}">
</head><!--/head-->

<body>
	<header th:replace="~{/fragments/header}"></header>
	<section>
		<div class="container">
			<div class="row">
				<div class="col-sm-12 padding-right">
					<div class="category-tab"><!--category-tab-->
						<div class="col-sm-12">
							<ul class="nav nav-tabs">
								<li class="active"><a href="#All" data-toggle="tab">All Products</a></li>
								<th:block th:each="category : ${categories}">
									<li><a th:href="@{'#' + ${category.name}}" data-toggle="tab">[[${category.name}]]</a></li>
								</th:block>
							</ul>
						</div>
						<div class="tab-content">
							<div class="tab-pane fade active in" id="All" >
								<th:block th:each="product : ${products}">
									<div class="col-sm-3">
										<div class="product-image-wrapper">
											<div class="single-products">
												<div class="productinfo text-center">
													<img th:src="@{'/images/shop/'+ ${product.image}}" alt=""  src=""/>
													<h2>[[${product.name}]]</h2>
													<p>Brand: [[${product.brand.name}]]</p>
													<p>Category: [[${product.category.name}]]</p>
													<p>Cost: $[[${product.price}]]</p>
													<a th:href="@{'/product/detail/'+${product.id}}" class="btn btn-default add-to-cart"><i class="fa fa-expand"></i>Details</a>
													<a th:href="@{'/product/cart/add/'+${product.id}}" class="btn btn-default add-to-cart"><i class="fa fa-shopping-cart"></i>Add to cart</a>
												</div>
											</div>
										</div>
									</div>
								</th:block>
							</div>
							<th:block th:each="category : ${categories}">
								<div class="tab-pane fade in" th:id="${category.name}" >
									<th:block th:each="product : ${products}">
										<div th:if="${product.category.name.equals(category.name)}" class="col-sm-3">
											<div class="product-image-wrapper">
												<div class="single-products">
													<div class="productinfo text-center">
														<img th:src="@{'/images/shop/'+ ${product.image}}" alt=""  src=""/>
														<h2>[[${product.name}]]</h2>
														<p>Brand: [[${product.brand.name}]]</p>
														<p>Category: [[${product.category.name}]]</p>
														<p>Cost: $[[${product.price}]]</p>
														<a th:href="@{'/product/detail/'+${product.id}}" class="btn btn-default add-to-cart"><i class="fa fa-expand"></i>Details</a>
														<a th:href="@{'/product/cart/add/'+${product.id}}" class="btn btn-default add-to-cart"><i class="fa fa-shopping-cart"></i>Add to cart</a>
													</div>
												</div>
											</div>
										</div>
									</th:block>
								</div>
							</th:block>
						</div>
					</div><!--/category-tab-->
				</div>
			</div>
		</div>
	</section>

	<footer th:replace="~{/fragments/footer}"></footer>
    <script type="text/javascript" th:src="@{/js/jquery.js}"></script>
	<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/jquery.scrollUp.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/price-range.js}"></script>
    <script type="text/javascript" th:src="@{/js/jquery.prettyPhoto.js}"></script>
    <script type="text/javascript" th:src="@{/js/main.js}"></script>
</body>
</html>